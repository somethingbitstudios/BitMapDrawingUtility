<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The advanced bit map utility</title>
    <link rel="stylesheet" href="./css/default.css" id="styyle">
	<link rel="shortcut icon" href="./favicon.ico" />
</head>

 <body> 
   <div id="background"></div>
        <div id="UIbottom">
          <div id="frames">
            

            
              

              
          </div>
        
        </div>
        <div id="UIleft">
      
          

            <button id="pencil" class="icon selectP"><img src="./icons/pencil.png" width="48" height="48"></button>
            <button id="line"class="icon"><img src="./icons/line.png" width="48" height="48"></button>
            <br>
            <button id="poly"class="icon"><img src="./icons/poly.png" width="48" height="48"></button>
            <button id="fill"class="icon"><img src="./icons/fill.png" width="48" height="48"></button>
            <br>
            <button id="picker"class="icon"><img src="./icons/picker.png" width="48" height="48"></button>
            <br>
            <button id="select"class="icon"><img src="./icons/select.png" width="48" height="48"></button>
            <button id="eraser"class="icon selectS"><img src="./icons/eraser.png" width="48" height="48"></button>
            <br>
            <div id="toolmenu">
              <h2>Pencil</h2>

              <p>Mode:</p>
              <button class="icon" id="1">
                <img src="./icons/toolmodes/pencil_mode-13.png" width="48" height="48"></button>
                <button class="icon" id="2"><img src="./icons/toolmodes/pencil_mode-2.png" width="48" height="48"></button>
                <br>
                <button class="icon" id="3">
                  <img src="./icons/toolmodes/pencil_mode-2-2.png" width="48" height="48">
                </button>
                <button class="icon" id="4"><img src="./icons/toolmodes/pencil_mode-14.png" width="48" height="48"></button>
              </div>

<div id="UIleftBottom">
			<label for="swapM">Swap middle and right btn?</label>
            <input id="swapM" type="checkbox" value=false>
			<label for="lnW">Line width</label>
			<small>Primary</small>
            <input id="lnW" type="number" value=1>
			<label for="lnW2">Line width</label>
			<small>Secndry</small>
			
            <input id="lnW2" type="number" value=1>
            <label for="tick">Tick(ms)</label>
            <input id="tick" type="number" value=0>

        </div>
 
        </div>  
          
        <div id="UIright">

          <div id="colorpicker" style="visibility: hidden;">
<button id="cancel_colorpicker" class="cancel"></button>
           
<div id="colorCanvas">
  <img src="./icons/cursor1.png" id="gradientcursor" width="16" height="16" left="-8px" top="119px" >
<canvas id="colorCanvasGradient" ></canvas>
          </div>
<div id="hueCanvas">
  <img src="./icons/cursor2.png" id="huecursor" width="24" height="5" >
  <canvas id="hueCanvasGradient"></canvas>
</div>
<div id="trCanvas">
  <img src="./icons/cursor2.png" id="trcursor" width="24" height="5" >
  <canvas id="trCanvasGradient"></canvas>
</div>
<div id="colorValues">
  <small>HEX:</small>
<input value="#000000FF" id="hex"></input><br/>
<small>RGBA:</small>
<input value="rgba(0,0,0,1)" id="rgba"></input><br/>
<small>HSLA:</small>
<input value="hsla(0,100%,0%,1)" id="hsla"></input>
</div>
<div id="ColorButtons"> 
  <canvas id="CurrentColor"></canvas>
 
  <button id="ColorButtonEdit">Edit</button>
   <button id="ColorButtonNew">New</button>


</div>

          </div>
<div id="colorpalette_wrapper"> 
  <div id="colorpalette_header">
            <select id="colorpalette_select">
              <option class="palette_opt">MMMMMMMM</option>
              <option class="palette_opt">test</option>
            </select>
            <button id="newPalette" class="tinyicon"><img class="smallbuttonimg" src="./icons/add.png" width="16" height="16"></button>
            <button id="delPalette" class="tinyicon"><img class="smallbuttonimg" src="./icons/subtract.png" width="16" height="16"></button>
             
           </div>
<div id="colorpalette">
         
           
</div>
<div id="colorpalette_footer">
  
   <button style="margin-right: 16px;" id="importPaletteOR" class="tinyicon"><img class="smallbuttonimg" src="./icons/upload.png" width="16" height="16"></button>
   <button id="importPalette" class="tinyicon"><img class="smallbuttonimg" src="./icons/add.png" width="16" height="16"></button>
  <button style="margin-right: 16px;" id="subtractPalette" class="tinyicon"><img class="smallbuttonimg" src="./icons/subtract.png" width="16" height="16"></button>
  <button id="exportPalette" class="tinyicon"><img class="smallbuttonimg" src="./icons/download.png" width="16" height="16"></button>
  <br/>
  <button  id="saveCanvasPalette" class="tinyicon"><img class="smallbuttonimg" src="./icons/add.png" width="16" height="16"></button>
  <button style="margin-left: 16px;" id="no" class="tinyicon"><img class="smallbuttonimg" src="" width="16" height="16"></button>
  <button  id="updatePalette" class="tinyicon"><img class="smallbuttonimg" src="./icons/update.png" width="16" height="16"></button>
  <button style="margin-left: 16px;" id="getPalette" class="tinyicon"><img class="smallbuttonimg" src="./icons/savepal.png" width="16" height="16"></button>
 </div>
</div>
          <br/><br/>
          <div class="colorPick" >
           
           
             <p class="nospace">PRIMARY</p> 
             <canvas class="ColorSquare" id="PRIMARYCOLORcanvas"></canvas>
             
            
              </div>
          <div class="colorPick">
        <p class="nospace">SECONDARY</p>
        <canvas class="ColorSquare" id="SECONDARYCOLORcanvas"></canvas>
            

          </div>
        
          <br/>

          <div class="layerMenu">
            <p>Layers:</p>
            <div id="layersui" style="max-height:450px;overflow-y:scroll">
              <div class="layer" id="test0" >
                <p id="frame0_0_name" style="cursor:text;max-width: 64px;overflow:hidden;">layetext</p>
                <div style="display:flex;flex-direction:column;">
                  <img src="./icons/arrowup.png" width="32" height="16"/>
                  <img  src="./icons/arrowdwn.png"  width="32" height="16"/>
                </div>
                <img src="./icons/eraser.png" width="32" height="32"/>
                <img style="position: absolute;display: block;left: 128px;" src="./icons/bin.png" width="32" height="32"/>
              </div>
            </div>
          </div>
          
          <div>
           
            <br/>
            <label>FPS</label>
            <input onblur="anim_fps=this.value; if(anim_interrupt!=null){AnimPause();AnimPlay();}" type="number" value="20"/>
            
            <br/>
            <button onclick="AnimPlay()">Play</button>
            <button onclick="AnimPause()" style="width: 58px;">Pause</button>
            <button onclick="AnimPause();curr_frame=0;">Stop</button>
            <br/>
            <label style="margin:0;border:none;padding:0;">Onion</label>
			<button style="width:70px;"id="onionrev" onclick="OnionRevolver()">Off</button>
			
			<br/>
            <label>Opacity %</label>
            <input onblur="onion_opac=(this.value/100);LoadFrame(curr_frame)" type="number" value="50"/>
            </div>
            <br/>
			<label>Layer scope: </label>
			<button style="width: 80px;" id="filter_all" onclick="Filter_All=!Filter_All;console.log(Filter_All);if(Filter_All){ Filter_All_btn.innerHTML='All lrs.'; }else{ Filter_All_btn.innerHTML='Sngl.lr.';  }">Sngl.lr.</button>
			<br/>
		
			<button onclick="Filter_SnapToPalette()" style="width: 76px;">ToPalette</button>
			<button onclick="Filter_BnW()" style="width: 76px;">B&W</button>
			<br/>
			<button onclick="Filter_Sheer()" style="width: 76px;">Sheer</button>
			<input type="number" style="width:76px;" onchange="Filter_Sheer_Offset=this.value;" value="1"/><br/>
			<button onclick="Filter_PxlBlr()" style="width: 60px;">PxBlur</button>
			<label>size:</label>
			<input type="number" style="width:40px;" onchange="Filter_PxlBlr_size=this.value;" value="3"/><br/>
			<label>smpls</label>
			<input type="number" style="width:32px;" onchange="Filter_PxlBlr_samples=this.value;" value="1"/>
			<label>opct</label>
			<input type="number" style="width:40px;" onchange="Filter_PxlBlr_opacity=this.value;" value="1.0"/>
			<button onclick="Toggle_Blr();if(PxlBlrInterval==null){this.innerHTML='Start';}else{this.innerHTML='Stop';}" style="width: 76px;">Start</button>
			<label>intrvl</label>
			<input type="number" style="width:40px;" onchange="Filter_PxlBlr_interval=this.value;if(PxlBlrInterval!=null){Toggle_Blr();Toggle_Blr();}" value="100.0"/>
			<label>offset</label>
			<input type="number" style="width:40px;" onchange="Filter_PxlBlr_off_x=Number(this.value);PxlBlr_Off_X_Change();" value="0.0"/>
			<input type="number" style="width:40px;" onchange="Filter_PxlBlr_off_y=Number(this.value);PxlBlr_Off_Y_Change();" value="0.0"/>
			<button onclick="Filter_PxlBlr_off_mode+=10;Filter_PxlBlr_off_mode %= 20;switch(Filter_PxlBlr_off_mode){case 0: this.innerHTML='Absolute'; break;case 10: this.innerHTML='Relative'; break;default: this.innerHTML='???'; break;}" style="width: 76px;">Absolute</button>
			<button onclick="Filter_PxlBlr_mode++;Filter_PxlBlr_mode %= 3;switch(Filter_PxlBlr_mode){case 0: this.innerHTML='Classic'; break;case 1: this.innerHTML='Light'; break;default: this.innerHTML='???'; break;}" style="width: 76px;">Classic</button>
			<input type="number" style="width:40px;" onchange="Filter_PxlBlr_off_absolute_scale=Number(this.value);" value="0.0"/>
			<button onclick="PxlBlr_Relative_Field_Build();" style="width: 76px;">Bld.Field</button>
			<br/>
			<label>falloff</label>
			<input type="number" style="width:40px;" onchange="Filter_PxlBlr_falloff=Number(this.value);" value="0.0"/>
			
			<br/>
        </div>
		
        <div id="UItop">


            <button id="save">Save</button>
            <button id="fileClick">
                Open
                  <input type="file" id="open" style="visibility: hidden;"></input>
            </button>
            <button id="impClick">
              Imprt
                <input type="file" id="import" style="visibility: hidden;position:fixed;"></input>
			</button>
          
            <button id="new">New</button>   
             <button id="resize" style="width: 58px;">Resize</button>
             <button id="options" style="width: 70px;">Options</button>
             <div id="UItopRight">
              <button id="undo">Undo</button>
              <button id="redo">Redo</button>

                <button id="left">Left</button>

             <button id="bottom">Down</button>

             <button id="right">Right</button>
        </div>
        </div>
        
       <div id="UIres" style="visibility:hidden;">
        <p>Resize to:</p>
      <label>X:</label>
      <input id="resX" type="number" value="0">
      <label>Y:</label>
      <input id="resY" type="number" value="0">
      <button id="resizeconfirm">Ok</button>
      </div>
      <div id="UIopt" style="visibility:hidden;">
        <p>Options</p>
    

        <p>Download:</p>
        <button id="save_merged">Merged</button>
        <button id="save_layers">Separate layers</button>
	¨	<button id="export_bitmap">Bitmap</button>
      <button id="UIoptSave">Save</button>
	  <p>cheats</p>
	  <input id="cheats"  >
      </div>
   
   <div id="canvasdiv" >
    <img id="SelectUpLeft" class="selectPoints"src="./icons/dragPoint.png" width=16 height="16" style="visibility: hidden;">
    <img id="SelectUp" class="selectPoints"src="./icons/dragPoint.png" width=16 height="16" style="visibility: hidden;">
    <img id="SelectUpRight" class="selectPoints"src="./icons/dragPoint.png" width=16 height="16" style="visibility: hidden;">
    <img id="SelectRight" class="selectPoints"src="./icons/dragPoint.png" width=16 height="16" style="visibility: hidden;">
    <img id="SelectDownRight" class="selectPoints"src="./icons/dragPoint.png" width=16 height="16" style="visibility: hidden;">
    <img id="SelectDown" class="selectPoints"src="./icons/dragPoint.png" width=16 height="16" style="visibility: hidden;">
    <img id="SelectDownLeft" class="selectPoints"src="./icons/dragPoint.png" width=16 height="16" style="visibility: hidden;">
    <img id="SelectLeft" class="selectPoints"src="./icons/dragPoint.png" width=16 height="16"style="visibility: hidden;">   
    <img id="SelectRotate" class="selectPoints"src="./icons/dragPoint.png" width=16 height="16"style="visibility: hidden;">
  
    <div id="layerdiv">
      <canvas id="canvasBackground" width="1" height="1"></canvas>
      <canvas id="layer1" width="240" height="150"></canvas>
      <canvas id="layer0" ></canvas>
    </div>
	
 <canvas id="previewcanvas">  </canvas>
 <canvas id="uicanvas" >  </canvas>
 <canvas id="onioncanvas"></canvas>
   </div>
            
 
   <button id="movedColorObj"class="colorE" style="background-color: rgba(0,0,0,1);visibility: hidden; position: fixed;z-index: 16; margin: -15px;"></button>
     <input type="file" id="importFilePal" style="visibility: hidden;">
     <input type="file" id="importFilePalOR" style="visibility: hidden;">
     <input type="file" id="subtractFilePal" style="visibility: hidden;"> 
       <img id="SelectUpLeft" src="./icons/dragPoint.png" width=16 height="16" >
       <img id="SelectUp" src="./icons/dragPoint.png" width=16 height="16">
       <img id="SelectUpRight" src="./icons/dragPoint.png" width=16 height="16">
       <img id="SelectRight" src="./icons/dragPoint.png" width=16 height="16">
       <img id="SelectDownRight" src="./icons/dragPoint.png" width=16 height="16">
       <img id="SelectDown" src="./icons/dragPoint.png" width=16 height="16">
       <img id="SelectDownLeft" src="./icons/dragPoint.png" width=16 height="16">
       <img id="SelectLeft" src="./icons/dragPoint.png" width=16 height="16">
 </body>
 <script  src="./js/FileSaver.min.js" ></script>
 <script  src="./js/jszip.min.js" ></script>
 <script  src="./js/main.js" ></script>

</html>
<html>
  
   
   